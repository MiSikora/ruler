plugins {
  id "com.android.library"
  id "org.jetbrains.kotlin.android"
}

android {
  resourcePrefix "io_mehow_ruler_"

  defaultConfig {
    testInstrumentationRunner "androidx.test.runner.AndroidJUnitRunner"
    testInstrumentationRunnerArgument "clearPackageData", "true"
  }

  testOptions.execution "ANDROIDX_TEST_ORCHESTRATOR"
  testBuildType "release"

  buildTypes {
    release {
      // Since we test release build it has to be signed.
      signingConfig signingConfigs.getByName("debug")
    }
  }
}

dependencies {
  api project(':library:ruler')

  androidTestUtil deps.android.x.test.orchestrator
  androidTestImplementation deps.android.x.test.junitKtx
  androidTestImplementation deps.android.x.test.coreKtx
  androidTestImplementation deps.android.x.test.runner
  androidTestImplementation deps.kotest.assertions
}

apply from: "$rootDir/gradle/dokka-config.gradle"
apply from: "$rootDir/gradle/gradle-mvn-push.gradle"
